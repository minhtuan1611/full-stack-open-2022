{"ast":null,"code":"import _slicedToArray from\"/Users/nguyenminhtuan/Desktop/FSO/part2/notes/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import axios from'axios';import Note from'./components/Note';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),notes=_useState2[0],setNotes=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),newNote=_useState4[0],setNewNote=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),showAll=_useState6[0],setShowAll=_useState6[1];var hook=function hook(){console.log('effect');axios.get('http://localhost:3002/notes').then(function(response){console.log('promise fulfilled');setNotes(response.data);});};useEffect(hook,[]);console.log('render',notes.length,'notes');var addNote=function addNote(event){event.preventDefault();var noteObject={content:newNote,important:Math.random()<0.5};axios.post('http://localhost:3002/notes',noteObject).then(function(response){setNotes(notes.concat(response.data));setNewNote('');});};var notesToShow=showAll?notes:notes.filter(function(note){return note.important===true;});var handleNoteChange=function handleNoteChange(event){setNewNote(event.target.value);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Notes\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return setShowAll(!showAll);},children:[\"show \",showAll?'important':'all']})}),/*#__PURE__*/_jsx(\"ul\",{children:notesToShow.map(function(note){return/*#__PURE__*/_jsx(Note,{note:note},note.id);})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:addNote,children:[/*#__PURE__*/_jsx(\"input\",{value:newNote,onChange:handleNoteChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"save\"})]})]});};export default App;","map":{"version":3,"names":["useState","useEffect","axios","Note","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","notes","setNotes","_useState3","_useState4","newNote","setNewNote","_useState5","_useState6","showAll","setShowAll","hook","console","log","get","then","response","data","length","addNote","event","preventDefault","noteObject","content","important","Math","random","post","concat","notesToShow","filter","note","handleNoteChange","target","value","children","onClick","map","id","onSubmit","onChange","type"],"sources":["/Users/nguyenminhtuan/Desktop/FSO/part2/notes/src/App.js"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport Note from './components/Note'\n\nconst App = () => {\n  const [notes, setNotes] = useState([])\n  const [newNote, setNewNote] = useState('')\n  const [showAll, setShowAll] = useState(true)\n\n  const hook = () => {\n    console.log('effect')\n    axios\n      .get('http://localhost:3002/notes')\n      .then(response => {\n        console.log('promise fulfilled')\n        setNotes(response.data)\n      })\n  }\n\n\n  \n  useEffect(hook, [])\n  console.log('render', notes.length, 'notes')\n\n  const addNote = event => {\n    event.preventDefault()\n    const noteObject = {\n      content: newNote,\n      important: Math.random() < 0.5,\n    }\n  \n    axios\n      .post('http://localhost:3002/notes', noteObject)\n      .then(response => {\n       setNotes(notes.concat(response.data))\n       setNewNote('')\n      })\n  }\n  \n\n\n  const notesToShow = showAll\n  ? notes\n  : notes.filter(note => note.important === true)\n  \n  const handleNoteChange = (event) => {\n    setNewNote(event.target.value)\n  }\n  \n  return (\n    <div>\n      <h1>Notes</h1>\n      <div>\n        <button onClick={() => setShowAll(!showAll)}>\n          show {showAll ? 'important' : 'all' }\n        </button>\n      </div>\n      <ul>\n      {notesToShow.map(note =>\n          <Note key={note.id} note={note} />\n        )}\n      </ul>\n      <form onSubmit={addNote}>\n        <input\n          value={newNote}\n          onChange={handleNoteChange}\n        />\n        <button type=\"submit\">save</button>\n      </form>   \n    </div>\n  )\n}\nexport default App"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}